<?xml version="1.0"?>
<openerp>
    <data>
        <!--res.partner > refugees -->
        <record model="ir.ui.view" id="view_refugees_partner_tree">
            <field name="name">res.partner.refugees.tree</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="40"/>
            <field name="arch" type="xml">      
                <tree string="Refugee">
                    <field name="is_refugee" />
                    <field name="name" />
                    <field name="ref" />
                    <field name="country_id" String="Origine"/> 
                    <field name="phone" />
                    <field name="email" />
                    <!--<field name="lang" />-->
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_refugees_partner_form">
            <field name="name">res.partner.refugees.form</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="40"/>
            <field name="arch" type="xml">
                <form string="Refugee" version="7.0">
                    <sheet>
                        <group colspan="4" col="4">
                            <field name="is_refugee" />
                            <field name="name" />
                            <field name="ref" />
                            <field name="country_id" String="Origine"/> 
                            <field name="phone" />
                            <field name="email" />
                            <!--<field name="lang" />-->        
                        </group>    
                    </sheet>
                </form>    
            </field>
        </record>
        <!--TODO search-->
        <record model="ir.actions.act_window" id="action_refugee_partner">
            <field name="name">Refugees</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_refugees_partner_tree"/>
            <field name="context">{'form_view_ref': 'refugees_management.view_refugees_partner_form','default_is_refugee':True}</field>
            <field name="domain">[('is_refugee', '=', True)]</field>
        </record>
        
        <!-- account.analytic.account > apartment -->
        <record model="ir.ui.view" id="view_apartment_tree">
            <field name="name">account.analytic.apartment.tree</field>
            <field name="model">account.analytic.account</field>
            <field name="priority" eval="40"/>
            <field name="arch" type="xml">
                <tree string="Apartment">
                    <field name="name" />
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_apartment_form">
            <field name="name">account.analytic.apartment.form</field>
            <field name="model">account.analytic.account</field>
            <field name="priority" eval="40"/>
            <field name="arch" type="xml">
                <form string="Apartment" version="7.0">        
                    <sheet>
                        <group col="4" colspan="4">
                            <field name="name" colspan="2"/>
                            <field name="apartment_id" />
                            <field name="is_apartment" invisible="1"/>
                            <separator string="Detail:" colspan="4"/>
                            <field name="street" />
                            <field name="city" />
                        </group>
                    </sheet>        
                </form>
            </field>
        </record>
        <!--TODO search-->
        <record model="ir.actions.act_window" id="action_apartment">
            <field name="name">Apartment</field>
            <field name="res_model">account.analytic.account</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_apartment_tree"/>
            <field name="context">{'form_view_ref': 'refugees_management.view_apartment_form','default_is_apartment':True}</field>
            <field name="domain">[('is_apartment', '=', True)]</field>
        </record>

        <!-- account.analytic.account > course -->
        <record model="ir.ui.view" id="view_course_tree">
            <field name="name">account.analytic.course.tree</field>
            <field name="model">account.analytic.account</field>
            <field name="arch" type="xml">
                <tree string="Course">
                    <field name="name" />
                    <field name="from_date" />
                    <field name="to_date" />
                    <field name="course_total" />
                    <field name="teacher_id" />
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_course_form">
            <field name="name">account.analytic.course.form</field>
            <field name="model">account.analytic.account</field>
            <field name="arch" type="xml">
                <form string="Course" version="7.0">        
                    <sheet>
                        <group col="4" colspan="4">                          
                        <field name="name" />
                        <field name="from_date" />
                        <field name="to_date" />
                        <field name="course_total" />
                        <field name="teacher_id" />    
                        </group>
                    </sheet>        
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="action_course">
            <field name="name">Course</field>
            <field name="res_model">account.analytic.account</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_course_tree"/>
            <field name="context">{'form_view_ref': 'refugees_management.view_course_form','default_is_course':True}</field>
            <field name="domain">[('is_course', '=', True)]</field>
        </record>
        
        <!-- account.analytic.account > lesson -->
        <!--<record model="ir.ui.view" id="view_refugee_lesson_tree">
            <field name="name">refugee.lesson.tree</field>
            <field name="model">refugee.lesson</field>
            <field name="arch" type="xml">
                <tree string="Lesson">
                    <field name="course_id" />
                    <field name="refugee_id" />  
                    <field name="date" />
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_refugee_lesson_form">
            <field name="name">refugee.lesson.form</field>
            <field name="model">refugee.lesson</field>
            <field name="arch" type="xml">
                <form string="Lesson" version="7.0">        
                    <sheet>
                        <group col="4" colspan="4">
                            <field name="course_id" />
                            <field name="refugee_id" />                        
                            <field name="date" />
                        </group>
                    </sheet>        
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="action_refugee_lesson">
            <field name="name">Lesson</field>
            <field name="res_model">refugee.lesson</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_lesson_tree"/>
            <field name="context">{}</field>
            <field name="domain">[]</field>
        </record>-->
        
        <menuitem 
            id="menu_refugees_root" 
            name="Refugees management"
            sequence="1"
            />
            <menuitem 
                parent="menu_refugees_root" 
                id="menu_refugees_apartment" 
                name="Apartment"
                sequence="10"
                />
                <menuitem 
                    parent="menu_refugees_apartment" 
                    id="menu_refugees_apartment_apartment" 
                    action="action_apartment"
                    sequence="10"
                    /> 
                <menuitem 
                    parent="menu_refugees_apartment" 
                    id="menu_refugees_apartment_refugees" 
                    action="action_refugee_partner"
                    sequence="20"
                    />
            <menuitem 
                parent="menu_refugees_root" 
                id="menu_refugees_course" 
                name="Course"
                sequence="20"
                />
                <menuitem 
                    parent="menu_refugees_course" 
                    id="menu_refugees_course_course" 
                    action="action_course"
                    sequence="10"
                    />
                    <!--<menuitem 
                        parent="menu_refugees_course_course" 
                        id="menu_refugees_course_course_lesson" 
                        action="action_refugee_lesson"
                        sequence="10"
                        />-->
                    
                            
</data>
</openerp>


